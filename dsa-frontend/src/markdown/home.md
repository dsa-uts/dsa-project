# はじめに

このアプリケーションは、提出されたプログラムの採点の効率化を目指してTAが作成したものです。使用は義務ではなく、使用していないことによる減点は行いませんが、採点結果を早く公開するためにもなるべく協力しもらえるとスムーズになります。

今年度から使用を開始しており、バグが含まれることも予想されるため、発見した場合は報告してください。使い方についてわからないことがある場合も気軽に質問してください。

質問は[メール](mailto:dsa-ta@kde.cs.tsukuba.ac.jp)でも可能です。

# プログラムの採点について

プログラムの採点は、以下の2点を確認します。

1. 提出された関数ファイルとmainファイルが正しくコンパイル・実行できるか。
2. 提出された関数ファイルは正しく実装されているか。

1.については、提出されたmakefileによりMakeを使用してコンパイルし、その後実行して正常に終了するかを確認します。ここでいう正常に終了するとは、戻り値が0であることを指します。なお、mainプログラムの出力は一切チェックしませんので、自由にデバッグ文を記述してもらって構いません。

2.については、TAがあらかじめ用意したテスト用プログラムと提出された関数ファイルを一緒にコンパイルし、複数のテストケースでの実行を行うことで全ての実行で結果が正しいかを判定します。

さらに、これらの項目と同時に提出物が揃っているか、レポートの体裁は整っているか等を確認し点数をつけます。

# アプリケーションの目的

このアプリケーションは、主にファイル名や関数、出力のフォーマットチェックを行うために使用します。

## ファイル名について

ファイル名は講義資料に記載のものに揃えてください。講義資料に記載がない場合、このアプリケーションの提出画面にファイル名が記載されているため、それに従ってください。これは、テスト用プログラムと提出された関数ファイルをmakeする際のコマンドを統一し、採点時のコンパイルを自動化するためです。

- Makefileのファイル名は``Makefile``で統一してください。``MakeFile``や``makeFile``などはエラーになります。ただし、``makefile``と``GNUMakefile``は公式に認められているため、例外とします。
- 拡張子に気を付けてください。``Makefile.txt``などはエラーになります。

## 関数について

関数は、名前や引数の数、型などを講義資料に記載のものに揃えてください。指定の関数でない場合、コンパイルや実行時にエラーになる可能性があります。特に引数の数や型が異なる場合、課題の指示とは異なるため減点になる場合もあります。

- 例えば、講義資料に``int func(int a, int b)``と記載されている場合、``int func(int a, long b)``と実装していると、こちらが用意したテスト用プログラムとのリンク時にエラーになり、チェックできません。

また、各課題の実装は、その課題で示されたプログラムファイルのみで完結してください。例えば、課題1の基本課題では、``main_euclid.c``, ``gcd_euclid.c``の2つのプログラムを記述するよう指示されていますが、一部の実装を``compute_gcd.c``など指示されていないファイルに記述していると、こちらが用意したテスト用プログラムとのリンク時にエラーになり、チェックできません。

## 出力フォーマットについて

出力フォーマットは講義資料に記載のものに揃えてください。講義資料に記載がない場合、このアプリケーションの提出画面に想定している出力フォーマットが乗っているので、それに則ってください。出力は標準出力・標準出力エラーごとに別々にチェックされます。学生が提出したプログラム出力``output``と、想定している出力``expected``があるとき、以下の手順でチェックされます。

1. ``output``の空白行を取り除く。ここでいう空白行とは、Unicodeの``White_Space``プロパティが``yes``の文字のみを含む行のことであり、全角空白やタブ文字も含まれます。
2. ``output``と``expected``の行数を比較し、異なる場合はNGとします。
3. ``output``の各行$l_1$, $l_2$, $l_3$,...ごとに、対応する想定出力の行$e_1$, $e_2$, $e_3$,...と一致するかチェックします。ある行$l_i$と$e_i$の一致判定は以下の手順で行われます。
   1. $l_i$と$e_i$の文字列それぞれの左右両端の空白文字を除去する。
   2. $l_i$と$e_i$を空白文字列で区切って分割する。
   3. $l_i$と$e_i$のそれぞれの要素の数が同じで、かつ、それぞれの要素が全て一致する場合はOKとする。そうでない場合はNGとする。

例えば、以下の二つのテキストは一致していると判定されます：

```text

1 　2 　　3 4 5
1 2 3
5     2
1
  
　
```

```text
1  2 3 4 5

1  2 3


5  2


1
```

一致していないと判定される例としては以下があります：

- カンマ区切りとスペース区切り: 求めている出力は半角スペース区切りのものであるが、提出されたプログラムのprintではカンマ区切りになっている。
- 大文字と小文字: 求めている出力は大文字のアルファベットであるが、提出されたプログラムのprintでは小文字になっている。

# 利用時の流れ

1. サイドバーから取り組む回を選択。
2. 取り組む回の"フォーマットチェック"をクリックし、最終提出物のzipファイルをアップロード。
3. 提出結果を確認。問題が無ければそれを含むソースコード一式、レポートをmanabaから提出。エラーがある場合、何がNGであるかを確認して修正してエラーが無くなるまで繰り返す。

**なお、フォーマットチェックはコンパイルと出力フォーマットの簡単なチェックのみで、実装の正しさまではチェックしません。実装の正しさは、manabaに提出された提出物をもとに評価します。**

# 結果の見方

提出したプログラムはジャッジシステムによって評価されます。以下でシステムが返すステータス（状態）について説明します。

下記は全て誤答(エラー)となります。

| ステータス | 説明 |
| ------- | ------ |
| CE(Compilation Error) | 提出されたプログラムのコンパイルに失敗しました |
| MLE(Memory Limit Exceeded) | 課題で指定されたメモリ制限を超えています |
| TLE(TIme Limit Exceeded) | 課題で指定された実行時間以内にプログラムが終了しませんでした |
| RE(Runtime Error) | プログラムが戻り値0で正常に終了することを想定しているのに、戻り値0以外で終了しました。コンパイル時に検出できなかったエラーがあります。スタックオーバーフロー、ゼロ除算などが原因です。 |
| OLE(Output Limit Exceeded) | 制限を超えるサイズの出力を行いました。標準出力のサイズ制限は2048バイト、標準エラー出力のサイズ制限は1024バイトです。 |
| IE(Internal Error) | ジャッジシステムの内部エラーが発生しました。|
| WA(Wrong Answer) | 提出されたプログラムの出力が想定している出力と一致しません。 |

ACは唯一の正答です。
| | |
| -- | -- |
| AC(Accepted) | プログラムが正常にコンパイル・実行でき、出力フォーマットも問題はありません。**アルゴリズム・データ構造の実装の正しさは自身で確認した上で、最終提出物をmanabaに提出してください。** |

# 実行環境

* OS: Linux (Ubuntu 24.10)
* コンパイラ: gcc 14.2.0
* コンパイル時の制限:
    * 実行時間: 2秒
    * メモリ: 512MB
* プログラム実行時の制限: 課題による
